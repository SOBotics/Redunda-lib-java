<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_102) on Tue May 30 10:30:54 CEST 2017 -->
<title>DataService</title>
<meta name="date" content="2017-05-30">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DataService";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../org/sobotics/redunda/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../org/sobotics/redunda/PingService.html" title="class in org.sobotics.redunda"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/sobotics/redunda/DataService.html" target="_top">Frames</a></li>
<li><a href="DataService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.sobotics.redunda</div>
<h2 title="Class DataService" class="title">Class DataService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.sobotics.redunda.DataService</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">DataService</span>
extends java.lang.Object</pre>
<div class="block">Synchronizes files across bot-instances via Redunda</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#apiKey">apiKey</a></span></code>
<div class="block">The API-key for the current instance.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#DataService--">DataService</a></span>()</code>
<div class="block">Initialize with default values</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#DataService-java.lang.String-">DataService</a></span>(java.lang.String&nbsp;key)</code>
<div class="block">Initializes the object with the api key</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#getContentOfRemoteFile-java.lang.String-">getContentOfRemoteFile</a></span>(java.lang.String&nbsp;filename)</code>
<div class="block">Downloads the contents of a file from Redunda.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#getContentOfRemoteFile-java.lang.String-boolean-">getContentOfRemoteFile</a></span>(java.lang.String&nbsp;filename,
                      boolean&nbsp;trackFile)</code>
<div class="block">Downloads the contents of a file from Redunda</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>com.google.gson.JsonArray</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#getRemoteFileList--">getRemoteFileList</a></span>()</code>
<div class="block">Returns the list of files on the server as `JsonArray`</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#getSyncInterval--">getSyncInterval</a></span>()</code>
<div class="block">Returns the time in seconds between two syncs.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#getTrackedFiles--">getTrackedFiles</a></span>()</code>
<div class="block">Returns the list of tracked files
 
 A tracked file may NOT contain the string `_slash_`!</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#pushFile-java.lang.String-">pushFile</a></span>(java.lang.String&nbsp;filename)</code>
<div class="block">Uploads a file to Redunda
 
 This will ALWAYS overwrite the files on the server</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#pushFiles--">pushFiles</a></span>()</code>
<div class="block">Uploads all tracked files to Redunda.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#setSyncInterval-int-">setSyncInterval</a></span>(int&nbsp;seconds)</code>
<div class="block">Sets the time between two syncs.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#start--">start</a></span>()</code>
<div class="block">Resets the executor services and starts checking the files after 30 seconds
 
 If the bot has just started, it is better to call `syncAndStart()`.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#syncAndStart--">syncAndStart</a></span>()</code>
<div class="block">Synchronizes the files synchronously and then starts the background thread.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#syncFiles--">syncFiles</a></span>()</code>
<div class="block">Synchronizes the files for the bot via Redunda.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/sobotics/redunda/DataService.html#trackFile-java.lang.String-">trackFile</a></span>(java.lang.String&nbsp;path)</code>
<div class="block">Adds a file to the list of tracked files</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="apiKey">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>apiKey</h4>
<pre>public&nbsp;java.lang.String apiKey</pre>
<div class="block">The API-key for the current instance. You can get the key in the Instances-overview on Redunda</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DataService--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DataService</h4>
<pre>public&nbsp;DataService()</pre>
<div class="block">Initialize with default values</div>
</li>
</ul>
<a name="DataService-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DataService</h4>
<pre>public&nbsp;DataService(java.lang.String&nbsp;key)</pre>
<div class="block">Initializes the object with the api key</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The API key for Redunda. You can get it form the instances overview</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setSyncInterval-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSyncInterval</h4>
<pre>public&nbsp;void&nbsp;setSyncInterval(int&nbsp;seconds)</pre>
<div class="block">Sets the time between two syncs. (if your bot syncs automatically)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>seconds</code> - The new value</dd>
</dl>
</li>
</ul>
<a name="getSyncInterval--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSyncInterval</h4>
<pre>public&nbsp;int&nbsp;getSyncInterval()</pre>
<div class="block">Returns the time in seconds between two syncs.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The value in seconds</dd>
</dl>
</li>
</ul>
<a name="trackFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trackFile</h4>
<pre>public&nbsp;void&nbsp;trackFile(java.lang.String&nbsp;path)</pre>
<div class="block">Adds a file to the list of tracked files</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - The path to the file to track</dd>
</dl>
</li>
</ul>
<a name="getTrackedFiles--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrackedFiles</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getTrackedFiles()</pre>
<div class="block">Returns the list of tracked files
 
 A tracked file may NOT contain the string `_slash_`!</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of tracked files</dd>
</dl>
</li>
</ul>
<a name="pushFiles--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pushFiles</h4>
<pre>public&nbsp;void&nbsp;pushFiles()
               throws java.io.IOException</pre>
<div class="block">Uploads all tracked files to Redunda.
 
 This will ALWAYS overwrite the files on the server</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If the upload of a file fails</dd>
</dl>
</li>
</ul>
<a name="pushFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pushFile</h4>
<pre>public&nbsp;void&nbsp;pushFile(java.lang.String&nbsp;filename)
              throws java.io.IOException</pre>
<div class="block">Uploads a file to Redunda
 
 This will ALWAYS overwrite the files on the server</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filename</code> - The name of the file to upload</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the file couldn't be read</dd>
</dl>
</li>
</ul>
<a name="getRemoteFileList--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemoteFileList</h4>
<pre>public&nbsp;com.google.gson.JsonArray&nbsp;getRemoteFileList()
                                            throws java.lang.Throwable</pre>
<div class="block">Returns the list of files on the server as `JsonArray`</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An array of objects with information about the stored files</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Throwable</code> - If the download/parsing fails</dd>
</dl>
</li>
</ul>
<a name="getContentOfRemoteFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContentOfRemoteFile</h4>
<pre>public&nbsp;java.lang.String&nbsp;getContentOfRemoteFile(java.lang.String&nbsp;filename)
                                        throws java.lang.Throwable</pre>
<div class="block">Downloads the contents of a file from Redunda.
 
 If the file is not tracked, it will be added to `this.trackedFiles`. You can change this behavior by using `this.getContentOfRemoteFile(String, boolean)`.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filename</code> - The name of the file to download</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The content of the file or `null` if an error occurs. (for example status not 200)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Throwable</code> - If an error occurs while downloading the file</dd>
</dl>
</li>
</ul>
<a name="getContentOfRemoteFile-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContentOfRemoteFile</h4>
<pre>public&nbsp;java.lang.String&nbsp;getContentOfRemoteFile(java.lang.String&nbsp;filename,
                                               boolean&nbsp;trackFile)
                                        throws java.lang.Throwable</pre>
<div class="block">Downloads the contents of a file from Redunda</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filename</code> - The name of the file to download</dd>
<dd><code>trackFile</code> - If `true`, the file will be added to the list of tracked files</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The content of the file or `null` if an error occurs. (for example status not 200)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Throwable</code> - If an error occurs while downloading the file</dd>
</dl>
</li>
</ul>
<a name="syncFiles--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>syncFiles</h4>
<pre>public&nbsp;void&nbsp;syncFiles()</pre>
<div class="block">Synchronizes the files for the bot via Redunda.
 
 First, the list of files on Redunda will be downloaded. This list will be compared with `this.trackedFiles`.
 Files that exist on the server but not on the client, will be downloaded.
 Tracked files that are not on the server will be uploaded.
 
 Downloaded files will overwrite the local files, if the are newer.
 Uploaded files will *always* overwrite the files on the server. (see `pushFile(String)`)</div>
</li>
</ul>
<a name="syncAndStart--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>syncAndStart</h4>
<pre>public final&nbsp;void&nbsp;syncAndStart()</pre>
<div class="block">Synchronizes the files synchronously and then starts the background thread.
 
 It's recommended to use this right after launching the bot.</div>
</li>
</ul>
<a name="start--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>start</h4>
<pre>public final&nbsp;void&nbsp;start()</pre>
<div class="block">Resets the executor services and starts checking the files after 30 seconds
 
 If the bot has just started, it is better to call `syncAndStart()`.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../org/sobotics/redunda/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../org/sobotics/redunda/PingService.html" title="class in org.sobotics.redunda"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/sobotics/redunda/DataService.html" target="_top">Frames</a></li>
<li><a href="DataService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
